$(function(){function t(){window.pageYOffset>200?$(".header-floating").attr("aria-hidden","false"):$(".header-floating").attr("aria-hidden","true")}function e(){var t=$(".footer").outerHeight();$(".footer").css("margin-top",-1*t),$(".wrapper").css("padding-bottom",t)}!function(){var t=$(".catalog-tags__links"),e=$(".catalog-tags__link");function i(){var i=t.width();e.each(function(t){var e=$(this).width();$(this).position().left+e>i?$(this).attr("aria-hidden","true"):$(this).attr("aria-hidden","false")})}$(window).on("resize",function(){i()}),i(),$(".catalog-tags__more-toggle").on("click",function(){if("true"==$(this).attr("aria-pressed"))return $(this).attr("aria-pressed","false").text("Показать еще"),void $(".catalog-tags").attr("aria-hidden","true");$(this).attr("aria-pressed","true").text("Скрыть"),$(".catalog-tags").attr("aria-hidden","false")})}(),t(),e(),$(".js-modal-content-slider").on("click",function(){a.open($(this));var t=$(this).index();setTimeout(function(){new Swiper(".modal-content-slider",{slidesPerView:1,spaceBetween:0,initialSlide:t,navigation:{prevEl:".modal-content-slider__arrow.swiper-button-prev",nextEl:".modal-content-slider__arrow.swiper-button-next"}})},10)}),$(window).on("resize",function(){r=$(window).width(),e()}).on("load",function(){r=$(window).width()}),window.addEventListener("scroll",function(){t(),$(window).scrollTop()}),function(){$(document).on("click",".js-add-product",function(){t.switch($(this))});var t={switch:function(t){var e=t.data("tracking");switch(this.id=t.parents("[data-product-id]").data("product-id"),this.obj=t,"true"==t.attr("aria-pressed")?this.obj.attr("aria-pressed","false"):this.obj.attr("aria-pressed","true"),e){case"favorites":case"comparsion":this.favorites}},favorites:function(){}}}(),function(){var t=!1,e=!1;$(".catalog-button").on("click",function(){i.switch($(this))});var i={switch:function(e){t?this.toggle():(this.obj=e,this.ajax())},ajax:function(){var e=this.obj.data("catalog-url");$.ajax({url:e,success:function(t){var e=$(t);$("body").append(e),setTimeout(function(){i.toggle()},10)},error:function(t){console.error(t)}}),t=!0},toggle:function(){if(e)return $(".list-catalog-ajax").attr("aria-hidden","true"),void(e=!1);$(".list-catalog-ajax").attr("aria-hidden","false"),e=!0}};$(document).on("click",function(t){0==$(t.target).closest(".column-one-base, .catalog-button").length&&(e=!0,i.toggle())})}(),function(){$(".c-level-zero-more").on("click",function(){t.switch($(this))});var t={switch:function(t){this.obj=t,this.ajax()},ajax:function(){var t=this.obj.data("url");$.ajax({url:t,success:function(t){var e=$(t);$(".c-level-zero").append(e),$(".c-level-zero-more").remove()},error:function(t){console.error(t)}})}}}(),$(".cs-filter__toggle-filter").on("click",function(){if("true"==$(this).attr("aria-pressed"))return $(this).attr("aria-pressed","false"),void $(this).next().attr("aria-hidden","true");$(this).attr("aria-pressed","true"),$(this).next().attr("aria-hidden","false")}),$(document).on("click",".cs-filter__more-toggle",function(){var t=$(this);if("true"==t.attr("aria-pressed")){t.attr("aria-pressed","false").text("Показать все");var e=t.clone(!0);return t.prev().before(e).attr("aria-hidden","true"),void t.remove()}t.attr("aria-pressed","true").text("Скрыть"),e=t.clone(!0),t.next().after(e).attr("aria-hidden","false"),t.remove()}),$(".cs-nav__toggle-list").on("click",function(){var t=$(this).parents(".cs-nav__item");if("true"==t.attr("aria-hidden"))return t.attr("aria-hidden","false"),void t.siblings().attr("aria-hidden","true");t.attr("aria-hidden","true")}),$(".header-mobile__search-toggle").on("click",function(){console.log(456),"true"==$(".search--mobile").attr("aria-hidden")?$(".search--mobile").attr("aria-hidden","false"):$(".search--mobile").attr("aria-hidden","true")}),$(function(){var t=window.matchMedia("(max-width: 767px)");function e(t){t.matches?$(".list-catalog").off("click"):$(".list-catalog").on("click",function(){return!1})}t.addListener(e),e(t)}),$(document).on("click",".list-catalog__category-link",function(){if(console.log(r),r>767)return!1}),$(".ms-menu__link-drop").on("click",function(){"true"==$(this).attr("aria-pressed")?$(this).attr("aria-pressed","false"):$(this).attr("aria-pressed","true")}),$(".js-close-modal").on("click",function(){a.close()}),$(".js-open-modal").on("click",function(){a.open($(this))});var i,a={init:function(){MicroModal.init({disableScroll:!0})},open:function(t){var e=t.data("container");MicroModal.show(e)},close:function(){MicroModal.close()}};a.init(),$(".cs-filter-toggle").on("click",function(){$(".cs-filter").toggleClass("_open")}),i=!0,$(".hamburger").on("click",function(){if(i)return $(this).attr("aria-pressed","true"),$("body").attr("mobile-sidebar","open"),$(".mobile-sidebar").attr("aria-hidden","false"),void(i=!1);$(this).attr("aria-pressed","false"),$("body").attr("mobile-sidebar","closed"),$(".mobile-sidebar").attr("aria-hidden","true"),i=!0}),$(".form__pass-visible").on("click",function(){"text"==$(this).prev().attr("type")?$(this).prev().attr("type","password"):$(this).prev().attr("type","text")}),$(".scroll-up").on("click",function(){$("html, body").stop().animate({scrollTop:0},600,"swing")}),$(".tabs-button__select").on("click",function(){var t=$(this);l.init(t)});var n,r,o,s,c,l={init:function(t){var e=t.data("object"),i=t.data("animation"),a=t.index();switch(this.changeActiveButton(t),e){case"next":this.fadeAnimation(t.parent().next().find(".tabs__container"),i,a)}},fadeAnimation:function(t,e,i){t.eq(i).attr("aria-hidden","false").siblings().attr("aria-hidden","true")},changeActiveButton:function(t){t.attr("tabs-button","active").siblings().attr("tabs-button","not-active")}};n=!0,$(".toggle-text__link").on("click",function(){$(".toggle-text__more").slideToggle(),n?($(this).text("Скрыть").appendTo(".toggle-text"),n=!1):($(this).text("Подробнее").appendTo(".toggle-text__first").eq(0),n=!0)}),$(document).on("click, mouseenter",".js-tooltip",function(){var t=$(this).offset(),e=$(this).data("tooltip"),i=$(this).data("tooltip-color");$("<div />",{class:"tooltip tooltip--"+i,text:e,css:{top:t.top,left:t.left-10}}).appendTo("body")}),$(document).on("mouseleave",".js-tooltip",function(){$(".tooltip").remove()}),$(window).on("resize",function(){r=$(window).width(),e()}).on("load",function(){r=$(window).width()}),window.addEventListener("scroll",function(){t(),$(window).scrollTop()}),function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var t=jQuery.fn.select2.amd;t.define("select2/i18n/ru",[],function(){function t(t,e,i,a){return t%10<5&&t%10>0&&t%100<5||t%100>20?t%10>1?i:e:a}return{errorLoading:function(){return"Невозможно загрузить результаты"},inputTooLong:function(e){var i=e.input.length-e.maximum,a="Пожалуйста, введите на "+i+" символ";return a+=t(i,"","a","ов"),a+=" меньше"},inputTooShort:function(e){var i=e.minimum-e.input.length,a="Пожалуйста, введите еще хотя бы "+i+" символ";return a+=t(i,"","a","ов")},loadingMore:function(){return"Загрузка данных…"},maximumSelected:function(e){var i="Вы можете выбрать не более "+e.maximum+" элемент";return i+=t(e.maximum,"","a","ов")},noResults:function(){return"Совпадений не найдено"},searching:function(){return"Поиск…"}}}),t.define,t.require}(),function(){function t(t){if(!t.id)return t.text;var e=$(t.element).data("image");return e?$("<span>"+t.text+'<svg class="img-flag"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="img/sprite.svg#icon-'+e+'"></use></svg></span>'):t.text}$(".js-select-load-city").easyAutocomplete({url:"/json/select-group-options2.json",getValue:"text",list:{match:{enabled:!0}},theme:"square"}),$(".js-base-select").select2({minimumResultsForSearch:-1,templateResult:t,templateSelection:t})}(),function(){$(".js-range").ionRangeSlider({type:"double"});var t=$(".js-range").data("ionRangeSlider");$(".js-range").on("change",function(){var t=$(this).val().split(";");$('[name="price-from"]').val(t[0]),$('[name="price-to"]').val(t[1])}),$(".js-price-filter").on("input",function(){t.update({from:$('[name="price-from"]').val(),to:$('[name="price-to"]').val()})})}(),function(){if($(".swiper-container").length){new Swiper(".main-slider",{slidesPerView:1,spaceBetween:0,navigation:{prevEl:".main-slider__arrow.swiper-button-prev",nextEl:".main-slider__arrow.swiper-button-next"},pagination:{el:".main-slider__pagination.swiper-pagination",clickable:!0}}),new Swiper(".icon-info--sloider .swiper-container",{slidesPerView:1,spaceBetween:0,pagination:{el:".icon-info--sloider .swiper-pagination",clickable:!0}});var t=$(".product-cards--slider").data("ajax-content");$(".js-load-product-slide").on("click",function(){var t=$(this).attr("href");$.ajax({url:t,cache:!1,success:function(t){$(".product-cards").find(".swiper-wrapper").html(""),e.appendSlide(t),e.slideTo(0)}})});var e=new Swiper(".product-cards--slider",{slidesPerView:4,slidesPerGroup:4,spaceBetween:20,navigation:{prevEl:".product-cards__arrow.swiper-button-prev",nextEl:".product-cards__arrow.swiper-button-next"},pagination:{el:".product-cards__pagination.swiper-pagination",clickable:!0},breakpoints:{1300:{slidesPerView:3,slidesPerGroup:3,spaceBetween:20},1000:{slidesPerView:2,slidesPerGroup:2,spaceBetween:20},670:{slidesPerView:1,slidesPerGroup:1}},on:{slideChangeTransitionStart:function(){var i=$(".product-cards__box").length;$(".product-cards__box.swiper-slide-active").index()==i-4&&$.ajax({url:t,cache:!1,success:function(t){e.appendSlide(t)},error:function(t){console.error(t)}})}}})}}(),o=$(".tabs-button__item"),s=$(".tabs-button__line"),c={init:function(t){"true"!==t.attr("aria-pressed")&&(this.obj=t,this.changeButton())},lineAnimation:function(t){var e=t.width(),i=90;switch(t.index()){case 0:i=0}var a=t.position().left+i;s.css({transform:"translateX("+a+"px)",width:e})},changeButton:function(){this.obj.attr("aria-pressed","true").siblings().attr("aria-pressed","false"),this.lineAnimation(this.obj)}},o.each(function(){"true"===$(this).attr("aria-pressed")&&c.lineAnimation($(this))}),o.on("click",function(){return c.init($(this)),!1}),$(".form__input, .form__textarea").on("input change",function(){""!=$(this).val()?$(this).addClass("_no-empty"):$(this).removeClass("_no-empty")}),$(".form__input--phone").mask("(999) 999 - 99 - 99"),$("[required]").on("change",function(){var t=$(this),e=t.parent();function i(){e.addClass("_error").removeClass("_success")}function a(){e.removeClass("_error").addClass("_success")}""==t.val()?i():a(),"email"==t.attr("type")&&(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9])+$/.test(t.val())?a():i())}),$("[required]").on("keyup",function(){$(this).parent().removeClass("_error");var t=$(this).parents(".form"),e=t.find("[required]"),i=e.length,a=0;e.each(function(){""!=$(this).val()&&a++});var n=$(this).val();a==i?t.find(".form__send-button").removeClass("button--disabled button--border").addClass("button--fill button--acc").removeAttr("disabled"):t.find(".form__send-button").removeClass("button--fill button--acc").addClass("button--disabled button--border").attr("disabled"),$(this).hasClass("form__input--phone")&&-1!=n.indexOf("_")&&t.find(".form__send-button").removeClass("button--fill button--acc").addClass("button--disabled button--border").attr("disabled")}),$(".form").find(".button").on("click",function(){var t=!0,e=$(this).parents(".form");if(e.find("[required]").map(function(){var i=$(this),a=i.parent();if($(this).attr("placeholder"),""==i.val()?(a.addClass("_error"),t=!1):a.removeClass("_error"),"email"==i.attr("type")){var n=e.find('[type="email"]');/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9])+$/.test(n.val())?a.removeClass("_error"):(a.addClass("_error"),t=!1)}"checkbox"==i.attr("type")&&(i.is(":checked")?a.removeClass("_error"):(a.addClass("_error"),t=!1))}),t)if(e.hasClass("js-ajax_form")){var i=e.serialize(),a=e.data("back"),n=e.attr("action");$.post(n,i,function(t){window[a](t)},"json")}else e.submit();return!1})});